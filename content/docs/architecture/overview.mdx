---
title: Architecture Overview
description: Beginner-friendly map of UI, APIs, auth, and database access.
---

## Mental model

Think of the app as four layers:

1. Pages (`src/app`): what users see.
2. Components (`src/components`): reusable UI building blocks.
3. APIs (`src/app/api/*/route.ts`): server endpoints for writes and data fetching.
4. Database (`src/db`): Drizzle queries against MySQL.

## How a request usually works

- For page loads, Server Components often query DB directly and render HTML.
- For user actions (submit/edit), client code calls internal API routes.
- API routes validate auth + input, then write to DB.

This split keeps rendering fast while protecting sensitive write logic on the server.

## Auth model

- Clerk middleware runs first on matched routes.
- Protected writes check auth in API handlers using Clerk `auth()`.

## Main packages and roles

- `next`, `react`, `typescript`: app framework + UI + typed JS
- `drizzle-orm`, `mysql2`: typed DB access
- `@clerk/nextjs`: auth/session management
- `@radix-ui/*` and shadcn-style components: UI primitives
- `framer-motion` / `motion`: animation utilities
