---
title: Environment & Secrets
description: Required environment variables and how they affect runtime behavior.
---

## Why this matters

Environment variables are runtime configuration values (DB URL, auth keys). The app will fail if required values are missing.

## Required variable

`DATABASE_URL` is required by Drizzle and Prisma.

Example:

```bash
DATABASE_URL="mysql://<user>:<password>@<host>:3306/<database>"
```

## Auth variables (Clerk)

For sign-in/profile/auth-protected routes, set:

- `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY`
- `CLERK_SECRET_KEY`

Without these, auth UI or protected API checks may break.

## Where these are used

- `src/db/drizzle.ts`: reads env and creates MySQL connection
- `src/middleware.ts`: runs Clerk middleware for matched app/API routes

## Security basics

- Never commit `.env`.
- Never hardcode production credentials.
- Keep write APIs protected (for example `POST /api/comments` validates auth).

## Quick check

After setting env vars:

1. Start app with `bun run dev`.
2. Open authenticated pages and confirm sign-in state works.
3. Submit a test API write path (comment form) to verify DB + auth.
